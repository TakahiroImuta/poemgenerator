<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
    <script src="js/app.js"></script>
    <title>Image to Grayscale</title>
</head>
<body>
    <p><img src="data:image/jpeg;base64,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"></p>
    <script>
      $(window).load(function() {
    $("img").each(function() {

        // キャンバスに画像を描画する
        var canvas = document.createElement("canvas");
        var ctx = canvas.getContext("2d");
        var img = new Image();
        img.src = $(this).attr("src");
        canvas.width = img.width;
        canvas.height = img.height;
        ctx.drawImage(img, 0, 0);

        // 画像の各ピクセルをグレースケールに変換する
        var pixels = ctx.getImageData(0, 0, canvas.width, canvas.height);
        for (var y = 0; y < pixels.height; y++) {
            for (var x = 0; x < pixels.width; x++) {
                var i = (y * 4) * pixels.width + x * 4;
                var rgb = parseInt((pixels.data[i] + pixels.data[i + 1] + pixels.data[i + 2]) / 3, 10);
                pixels.data[i] = rgb;
                pixels.data[i + 1] = rgb;
                pixels.data[i + 2] = rgb;
            }
        }
        ctx.putImageData(pixels, 0, 0, 0, 0, pixels.width, pixels.height);

        // 画像を差し替える
        $(this).attr("src", canvas.toDataURL());
    });
});
    </script>
</body>
</html>